<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>My Projects</title>
  <style>
    :root{
      --space:#0b0d17;
      --text:#e5e7eb;
      --muted:#9aa4b2;
      --card: rgba(255,255,255,.06);      /* translucent glass */
      --card-border: rgba(255,255,255,.18);
      --shadow: 0 6px 28px rgba(0,0,0,.35);
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial,"Noto Sans";
      color:var(--text);
      background:#000;
      overflow-x:hidden;
      min-height:100vh;
    }

    /* ===== Space background (stars + subtle vortex) ===== */
    .space-bg{position:fixed; inset:0; z-index:0; overflow:hidden;
      background:
        radial-gradient(1200px 800px at 50% 50%, rgba(255,255,255,.08) 0%, rgba(255,255,255,0) 35%),
        radial-gradient(closest-corner at 50% 50%, #000 0%, #02030a 45%, #020414 70%, #000 100%);
    }
    #stars{position:absolute; inset:0; width:100%; height:100%}
    .vortex{
      position:absolute; inset:-25%; border-radius:50%;
      background:repeating-conic-gradient(from 0deg,
        rgba(255,255,255,.05) 0 14deg, rgba(0,0,0,0) 14deg 28deg);
      filter:blur(60px); opacity:.25; animation:spin 80s linear infinite;
    }
    @keyframes spin{to{transform:rotate(360deg)}}

    /* ===== Topbar (transparent) ===== */
    .topbar{
      position:fixed; top:10px; left:0; right:0; z-index:2;
      display:flex; justify-content:center; pointer-events:none;
    }
    .topbar-inner{
      pointer-events:auto;
      display:flex; gap:10px; align-items:center;
      background:rgba(255,255,255,.06);
      border:1px solid var(--card-border);
      border-radius:999px; padding:8px 14px;
      backdrop-filter: blur(10px) saturate(140%);
      -webkit-backdrop-filter: blur(10px) saturate(140%);
      box-shadow:var(--shadow);
    }
    .chip{
      color:var(--text); text-decoration:none; font-size:14px; line-height:1;
      background:rgba(255,255,255,.08); border:1px solid var(--card-border);
      padding:8px 12px; border-radius:999px;
    }
    .chip[aria-disabled="true"]{opacity:.5; pointer-events:none}

    /* ===== Content ===== */
    .container{position:relative; z-index:1; max-width:1200px; margin:70px auto 40px; padding:0 14px}
    h1{margin:0 0 8px; font-size:32px}
    .lead{margin:0 0 16px; color:var(--muted)}

    /* ===== Glass cards (transparent) ===== */
    .card{
      background:var(--card);
      border:1px solid var(--card-border);
      border-radius:16px;
      box-shadow:var(--shadow);
      overflow:hidden; margin-bottom:14px;
      backdrop-filter: blur(10px) saturate(140%);
      -webkit-backdrop-filter: blur(10px) saturate(140%);
      color:var(--text);
    }
    .card-head{display:flex; align-items:center; justify-content:space-between; padding:16px 18px; cursor:pointer}
    .title{font-weight:700; font-size:18px; color:var(--text)}
    .pill{
      font-size:12px; padding:4px 10px;
      border:1px solid var(--card-border); color:var(--text);
      background:rgba(255,255,255,.08); border-radius:999px;
    }
    .details{display:none}
    .details.open{display:block}

    /* Actions */
    .actions{display:flex; gap:10px; align-items:center; margin:10px 18px 14px; flex-wrap:wrap}
    .button{
      display:inline-flex; align-items:center; gap:8px; padding:10px 14px; font-size:14px; border-radius:12px;
      color:var(--text); background:rgba(255,255,255,.08); border:1px solid var(--card-border);
      text-decoration:none; box-shadow:var(--shadow);
      backdrop-filter: blur(6px); -webkit-backdrop-filter: blur(6px);
    }
    .button[aria-disabled="true"]{opacity:.5; pointer-events:none}

    /* Slideshow frame: fully transparent, screen-fit */
    .frame{
      width:100%;
      height:calc(100vh - 260px);  /* fills screen minus header & spacing */
      min-height:320px;
      background:transparent;
      border-top:1px solid var(--card-border);
      display:flex; align-items:center; justify-content:center;
    }
    .frame img{width:100%; height:100%; object-fit:contain; background:transparent}
    .empty{color:#c9d2df; font-size:14px; text-align:center; padding:20px}
  </style>
</head>
<body>
  <!-- Space background -->
  <div class="space-bg">
    <canvas id="stars"></canvas>
    <div class="vortex"></div>
  </div>

  <!-- Topbar with Resume -->
  <div class="topbar">
    <div class="topbar-inner">
      <!-- TODO: put your public resume link below (Drive/GitHub Pages). If left blank, button disables. -->
      <a id="resumeBtn" class="chip" href="#" aria-disabled="true">ðŸ“„ Resume</a>
    </div>
  </div>

  <!-- Main content -->
  <div class="container">
    <h1>My Projects</h1>
    <p class="lead">Tap a project name to see its website and a full-screen-fit slideshow (auto-plays, no controls).</p>
    <div id="list"></div>
  </div>

  <!-- ===== Your project data (edit here) ===== -->
  <script>
    // Set this to your public resume link (e.g., Google Drive "uc?export=download&id=..." or a GitHub Pages URL)
    var RESUME_LINK = ""; // e.g., "https://drive.google.com/uc?export=download&id=YOUR_ID"

    window.PROJECTS = [
      {
        id: "ecart",
        title: "E-cart (Electronics Store)",
        websiteUrl: "https://your-ecart-site.example.com",
        images: [
          "https://drive.google.com/file/d/1-Q8Br9gIMLLR585axlYUyy6gcHEfv5Wu/view?usp=sharing",
          "https://drive.google.com/file/d/12xMxcjxDm46aJcN1CUwkHnrvyOrtEgHD/view?usp=sharing",
          "https://drive.google.com/file/d/1NT-OxEnAq18gFC_2xUcJvzYLUp6ti7WZ/view?usp=sharing",
          "https://drive.google.com/file/d/14NAa_7IVgwKAywYznLm5pHZ5dnbT-bg9/view?usp=sharing"
        ]
      },
      {
        id:"disease-prediction",
        title:"Disease Prediction With Symptoms",
        websiteUrl:"https://krishnachaitanyavejendla.github.io/disease-prediction/",
        images:[
          "https://drive.google.com/file/d/1V8DWL5gdW4uYqmbGPAbHizbji7BBHL-V/view?usp=sharing",
          "https://drive.google.com/file/d/1b8DVS1rJxolsdLrwm38ucH87va8nPB5y/view?usp=sharing",
          "https://drive.google.com/file/d/1hgPsUiaVRxTWKVA_rGsI6EiL4RbNO1VM/view?usp=sharing"
        ]
      },
      {
        id:"notes-generator",
        title:"Automated Notes Generator",
        websiteUrl:"https://automated-notes-generator.onrender.com/",
        images:[
          "https://drive.google.com/file/d/1BoEe7Fd_S9NvC3NLlq4oEyXhWZpq_L3X/view?usp=sharing",
          "https://drive.google.com/file/d/1phfziG67undXbV_yILlpE4f34BfZwPYd/view?usp=sharing",
          "https://drive.google.com/file/d/1OFi0D-wRJI-gZ9dIWEeob9yZv0qccqlP/view?usp=sharing"
        ]
      }
    ];
  </script>

  <!-- ===== App (compat JS; no slideshow buttons) ===== -->
  <script>
    // ---- Starfield animation ----
    (function(){
      var c = document.getElementById('stars'), ctx = c.getContext('2d');
      function size(){ c.width = innerWidth; c.height = innerHeight; }
      size(); addEventListener('resize', size);
      var N = 220, stars=[];
      for(var i=0;i<N;i++){
        stars.push({x:Math.random()*c.width, y:Math.random()*c.height, r:Math.random()*1.2+0.2, s:Math.random()*0.4+0.05, a:Math.random()*1});
      }
      function tick(){
        ctx.clearRect(0,0,c.width,c.height);
        for(var i=0;i<N;i++){
          var s=stars[i]; s.y += s.s; if(s.y>c.height){ s.y=0; s.x=Math.random()*c.width; }
          s.a += 0.02; var alpha = 0.5 + 0.5*Math.sin(s.a);
          ctx.fillStyle = "rgba(255,255,255,"+alpha+")";
          ctx.beginPath(); ctx.arc(s.x,s.y,s.r,0,Math.PI*2); ctx.fill();
        }
        requestAnimationFrame(tick);
      }
      tick();
    })();

    // ---- Portfolio logic ----
    document.addEventListener('DOMContentLoaded', function () {
      // Resume button wiring
      var resumeBtn = document.getElementById('resumeBtn');
      if (RESUME_LINK && RESUME_LINK.trim() !== "#"){
        resumeBtn.href = RESUME_LINK;
        resumeBtn.setAttribute('aria-disabled','false');
        resumeBtn.removeAttribute('aria-disabled');
        resumeBtn.target = "_blank"; resumeBtn.rel = "noreferrer";
      }

      var PROJECTS = window.PROJECTS || [];
      var listEl = document.getElementById('list');

      // Google Drive helpers
      function extractDriveId(url){
        if(!url) return null;
        var m1 = url.match(/[?&]id=([^&]+)/); if(m1) return m1[1];
        var m2 = url.match(/\/file\/d\/([^/]+)\//); if(m2) return m2[1];
        return null;
      }
      function driveViewUrl(id){ return "https://drive.google.com/uc?export=view&id=" + id; }
      function driveThumbUrl(id){ return "https://drive.google.com/thumbnail?id=" + id + "&sz=w1600"; }
      function normalizeSources(raw){ var id = extractDriveId(raw); return id ? [driveViewUrl(id), driveThumbUrl(id)] : [raw]; }
      function makeImgWithFallback(srcList, altText){
        var img = document.createElement('img');
        img.alt = altText || ""; img.loading = "lazy"; img.referrerPolicy = "no-referrer";
        var i = 0; function next(){ if(i>=srcList.length){ img.removeAttribute('src'); return; } img.src = srcList[i++]; }
        img.onerror = next; next(); return img;
      }

      function createProjectCard(project, openByDefault){
        var card = document.createElement('div'); card.className = 'card';

        var head = document.createElement('div'); head.className = 'card-head';
        head.setAttribute('role','button'); head.setAttribute('tabindex','0'); head.setAttribute('aria-expanded','false');

        var title = document.createElement('div'); title.className = 'title'; title.textContent = project.title;
        var pill = document.createElement('span'); pill.className = 'pill'; pill.textContent = 'tap to view';
        head.appendChild(title); head.appendChild(pill);

        var details = document.createElement('div'); details.className = 'details';

        // Actions row
        var actions = document.createElement('div'); actions.className = 'actions';
        var websiteBtn = document.createElement('a'); websiteBtn.className = 'button'; websiteBtn.innerHTML = 'ðŸ”— Visit Website';
        if (project.websiteUrl){ websiteBtn.href = project.websiteUrl; websiteBtn.target = '_blank'; websiteBtn.rel = 'noreferrer'; }
        else { websiteBtn.setAttribute('aria-disabled','true'); websiteBtn.title = 'Add websiteUrl in PROJECTS to enable'; }
        var count = document.createElement('span'); count.className = 'pill';
        var imgCount = (project.images && project.images.length) ? project.images.length : 0;
        count.textContent = imgCount + ' image(s)';
        actions.appendChild(websiteBtn); actions.appendChild(count);

        // Transparent slideshow frame
        var frame = document.createElement('div'); frame.className = 'frame';

        details.appendChild(actions);
        details.appendChild(frame);

        var idx=0, timer=null, AUTOPLAY=3000;

        function render(){
          frame.innerHTML = '';
          if(!project.images || !project.images.length){
            var empty = document.createElement('div'); empty.className = 'empty';
            empty.textContent = 'No images yet.'; frame.appendChild(empty); return;
          }
          var sources = normalizeSources(project.images[idx]);
          frame.appendChild(makeImgWithFallback(sources, project.title + ' image ' + (idx+1)));
        }
        function start(){ if(timer || !project.images || project.images.length<2) return;
          timer = setInterval(function(){ idx=(idx+1)%project.images.length; render(); }, AUTOPLAY); }
        function stop(){ if(timer){ clearInterval(timer); timer=null; } }

        function toggle(){
          var open = details.classList.contains('open');
          if(open){ details.classList.remove('open'); head.setAttribute('aria-expanded','false'); pill.textContent='tap to view'; stop(); }
          else { details.classList.add('open'); head.setAttribute('aria-expanded','true'); pill.textContent='tap to hide'; idx=0; render(); start(); }
        }
        head.addEventListener('click', toggle);
        head.addEventListener('keydown', function(e){ if(e.key==='Enter'||e.key===' '){ e.preventDefault(); toggle(); } });

        card.appendChild(head); card.appendChild(details);
        if(openByDefault){ toggle(); }
        return card;
      }

      // Render all projects; open the first by default
      for (var i=0;i<PROJECTS.length;i++){
        listEl.appendChild(createProjectCard(PROJECTS[i], i===0));
      }
    });
  </script>
</body>
</html>
