<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>My Projects</title>
  <style>
    :root {
      --bg:#0b0d17;           /* deep space */
      --card:#ffffff;         /* card background */
      --text:#e5e7eb;         /* light text for headings */
      --muted:#9aa4b2;
      --border:#e5e7eb;
      --shadow:0 6px 18px rgba(0,0,0,.18);
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial,"Noto Sans";
      color:var(--text);
      background:#000; /* fallback */
      overflow-x:hidden;
    }

    /* ---- Space background (canvas stars + spinning vortex) ---- */
    .space-bg{position:fixed; inset:0; z-index:0; overflow:hidden;
      background:
        radial-gradient(1200px 800px at 50% 50%, rgba(255,255,255,.08) 0%, rgba(255,255,255,0) 35%),
        radial-gradient(closest-corner at 50% 50%, #000 0%, #02030a 45%, #020414 70%, #000 100%);}
    #stars{position:absolute; inset:0; width:100%; height:100%; display:block}
    .vortex{position:absolute; inset:-25%; border-radius:50%;
      background:repeating-conic-gradient(
        from 0deg,
        rgba(255,255,255,.05) 0 14deg,
        rgba(0,0,0,0) 14deg 28deg);
      filter:blur(60px); opacity:.25; animation:spin 80s linear infinite}
    @keyframes spin{to{transform:rotate(360deg)}}

    /* ---- Content ---- */
    .container{position:relative; z-index:1; max-width:1200px; margin:0 auto; padding:24px 14px 40px}
    h1{margin:0 0 8px; font-size:32px}
    .lead{margin:0 0 16px; color:var(--muted)}

    .card{
      background:var(--card);
      color:#111827;
      border:1px solid #eef0f3;
      border-radius:16px;
      box-shadow:var(--shadow);
      overflow:hidden;
      margin-bottom:14px;
    }
    .card-head{display:flex; align-items:center; justify-content:space-between; padding:16px 18px; cursor:pointer}
    .title{font-weight:700; font-size:18px}
    .pill{font-size:12px; padding:4px 10px; border:1px solid #e5e7eb; color:#374151; background:#f9fafb; border-radius:999px}
    .details{display:none}
    .details.open{display:block}

    /* Slideshow frame that FITS the screen, no cropping */
    .frame{
      width:100%;
      height:calc(100vh - 220px);
      min-height:300px;
      background:#fff;
      border-top:1px solid #eef0f3;
      display:flex; align-items:center; justify-content:center;
    }
    .frame img{width:100%; height:100%; object-fit:contain; background:#fff}
    .empty{color:#6b7280; font-size:14px; text-align:center; padding:20px}

    .actions{display:flex; gap:10px; align-items:center; margin:10px 18px 14px; flex-wrap:wrap}
    .button{display:inline-flex; align-items:center; gap:8px; padding:10px 14px; font-size:14px; border-radius:12px;
      background:#fff; border:1px solid #e5e7eb; text-decoration:none; color:#111827; box-shadow:var(--shadow)}
    .button[aria-disabled="true"]{opacity:.5; pointer-events:none}
  </style>
</head>
<body>
  <!-- Space background layer -->
  <div class="space-bg">
    <canvas id="stars"></canvas>
    <div class="vortex"></div>
  </div>

  <!-- Content -->
  <div class="container">
    <h1>My Projects</h1>
    <p class="lead">Tap a project name to see its website and a full-screen-fit slideshow (auto-plays, no buttons).</p>
    <div id="list"></div>
  </div>

  <!-- Your projects -->
  <script>
    window.PROJECTS = [
      {
        id: "ecart",
        title: "E-cart (Electronics Store)",
        websiteUrl: "https://your-ecart-site.example.com",
        images: [
          "https://drive.google.com/file/d/1-Q8Br9gIMLLR585axlYUyy6gcHEfv5Wu/view?usp=sharing",
          "https://drive.google.com/file/d/12xMxcjxDm46aJcN1CUwkHnrvyOrtEgHD/view?usp=sharing",
          "https://drive.google.com/file/d/1NT-OxEnAq18gFC_2xUcJvzYLUp6ti7WZ/view?usp=sharing",
          "https://drive.google.com/file/d/14NAa_7IVgwKAywYznLm5pHZ5dnbT-bg9/view?usp=sharing"
        ]
      },
      {
        id:"note-gen",
        title:"Disease Prediction With Symptoms",
        websiteUrl:"https://krishnachaitanyavejendla.github.io/disease-prediction/",
        images:[
          "https://drive.google.com/file/d/1V8DWL5gdW4uYqmbGPAbHizbji7BBHL-V/view?usp=sharing",
          "https://drive.google.com/file/d/1b8DVS1rJxolsdLrwm38ucH87va8nPB5y/view?usp=sharing",
          "https://drive.google.com/file/d/1hgPsUiaVRxTWKVA_rGsI6EiL4RbNO1VM/view?usp=sharing"
        ]
      },
      {
        id:"Automated Notes Generator",
        title:"Automated Notes Generator",
        websiteUrl:"https://automated-notes-generator.onrender.com/",
        images:[
          "https://drive.google.com/file/d/1BoEe7Fd_S9NvC3NLlq4oEyXhWZpq_L3X/view?usp=sharing",
          "https://drive.google.com/file/d/1phfziG67undXbV_yILlpE4f34BfZwPYd/view?usp=sharing",
          "https://drive.google.com/file/d/1OFi0D-wRJI-gZ9dIWEeob9yZv0qccqlP/view?usp=sharing"
        ]
      }
    ];
  </script>

  <!-- App (no buttons; auto-play; Drive-friendly) -->
  <script>
    // ------- Starfield (subtle animated background) -------
    (function(){
      var c = document.getElementById('stars'), ctx = c.getContext('2d');
      function size(){ c.width = innerWidth; c.height = innerHeight; }
      size(); addEventListener('resize', size);
      var N = 220, stars=[];
      for(var i=0;i<N;i++){
        stars.push({x:Math.random()*c.width, y:Math.random()*c.height, r:Math.random()*1.2+0.2, s:Math.random()*0.4+0.05, a:Math.random()*1});
      }
      function tick(){
        ctx.clearRect(0,0,c.width,c.height);
        for(var i=0;i<N;i++){
          var s=stars[i];
          s.y += s.s; if(s.y>c.height) { s.y=0; s.x=Math.random()*c.width; }
          s.a += 0.02; var alpha = 0.5 + 0.5*Math.sin(s.a);
          ctx.fillStyle = "rgba(255,255,255,"+alpha+")";
          ctx.beginPath(); ctx.arc(s.x,s.y,s.r,0,Math.PI*2); ctx.fill();
        }
        requestAnimationFrame(tick);
      }
      tick();
    })();

    // ------- Portfolio logic -------
    document.addEventListener('DOMContentLoaded', function () {
      var PROJECTS = window.PROJECTS || [];
      var listEl = document.getElementById('list');

      function extractDriveId(url){
        if(!url) return null;
        var m1 = url.match(/[?&]id=([^&]+)/);
        if(m1) return m1[1];
        var m2 = url.match(/\/file\/d\/([^/]+)\//);
        if(m2) return m2[1];
        return null;
      }
      function driveViewUrl(id){ return "https://drive.google.com/uc?export=view&id=" + id; }
      function driveThumbUrl(id){ return "https://drive.google.com/thumbnail?id=" + id + "&sz=w1600"; }
      function normalizeSources(raw){ var id = extractDriveId(raw); return id ? [driveViewUrl(id), driveThumbUrl(id)] : [raw]; }
      function makeImgWithFallback(srcList, altText){
        var img = document.createElement('img');
        img.alt = altText || ""; img.loading = "lazy"; img.referrerPolicy = "no-referrer";
        var i = 0; function next(){ if(i>=srcList.length){ img.removeAttribute('src'); return; } img.src = srcList[i++]; }
        img.onerror = next; next(); return img;
      }

      function createProjectCard(project, openByDefault){
        var card = document.createElement('div'); card.className = 'card';
        var head = document.createElement('div'); head.className = 'card-head'; head.setAttribute('role','button'); head.setAttribute('tabindex','0');
        var title = document.createElement('div'); title.className = 'title'; title.textContent = project.title;
        var pill = document.createElement('span'); pill.className = 'pill'; pill.textContent = 'tap to view';
        head.appendChild(title); head.appendChild(pill);

        var details = document.createElement('div'); details.className = 'details';
        var actions = document.createElement('div'); actions.className = 'actions';
        var websiteBtn = document.createElement('a'); websiteBtn.className = 'button'; websiteBtn.innerHTML = 'ðŸ”— Visit Website';
        if (project.websiteUrl){ websiteBtn.href = project.websiteUrl; websiteBtn.target = '_blank'; websiteBtn.rel='noreferrer'; }
        else { websiteBtn.setAttribute('aria-disabled','true'); websiteBtn.title = 'Add websiteUrl in PROJECTS to enable'; }
        var count = document.createElement('span'); count.className = 'pill';
        count.textContent = ((project.images && project.images.length) ? project.images.length : 0) + ' image(s)';
        actions.appendChild(websiteBtn); actions.appendChild(count);

        var frame = document.createElement('div'); frame.className = 'frame';
        details.appendChild(actions); details.appendChild(frame);

        var idx=0, timer=null, AUTOPLAY=3000;
        function render(){
          frame.innerHTML = '';
          if(!project.images || !project.images.length){
            var empty = document.createElement('div'); empty.className = 'empty'; empty.textContent = 'No images yet.'; frame.appendChild(empty); return;
          }
          var sources = normalizeSources(project.images[idx]);
          frame.appendChild(makeImgWithFallback(sources, project.title + ' image ' + (idx+1)));
        }
        function start(){ if(timer || !project.images || project.images.length<2) return;
          timer = setInterval(function(){ idx=(idx+1)%project.images.length; render(); }, AUTOPLAY); }
        function stop(){ if(timer){ clearInterval(timer); timer=null; } }

        function toggle(){
          var open = details.classList.contains('open');
          if(open){ details.classList.remove('open'); pill.textContent='tap to view'; stop(); }
          else { details.classList.add('open'); pill.textContent='tap to hide'; idx=0; render(); start(); }
        }
        head.addEventListener('click', toggle);
        head.addEventListener('keydown', function(e){ if(e.key==='Enter'||e.key===' '){ e.preventDefault(); toggle(); } });

        card.appendChild(head); card.appendChild(details);
        if(openByDefault){ toggle(); }
        return card;
      }

      PROJECTS.forEach(function(p,i){ listEl.appendChild(createProjectCard(p, i===0)); });
    });
  </script>
</body>
</html>
